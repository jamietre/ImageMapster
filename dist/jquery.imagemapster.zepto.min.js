/*!
* imagemapster - v1.8.0 - 2024-05-01
* https://jamietre.github.io/ImageMapster
* Copyright (c) 2011 - 2024 James Treworgy
* License: MIT
*/
!function(e,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),i(t),t}:i(e.jQuery||e.Zepto)}("undefined"!=typeof self?self:this,function(jQuery){!function(a){"use strict";a.fn.stop||(a.fn.stop=function(){return this}),a.each(["Height","Width"],function(e,t){var i="outer"+t;a.fn[i]||(a.fn[i]=function(){return this[t.toLowerCase()]()})}),a.fn.extend||(a.fn.extend=function(e){a.extend(a.fn,e)}),a.fn.addSelf||(a.fn.end=function(){return this.prevObject||a()},a.fn.andSelf=function(){return this.add(this.prevObject||a())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(e){var t=a.fn[e];a.fn[e]=function(){var e=t.apply(this,arguments);return e.prevObject=this,e}}))}(jQuery),!function(e){"use strict";if(e.event&&e.event.special){var a,t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return t=!0}});window.addEventListener("testPassive.mapster",function(){},i),window.removeEventListener("testPassive.mapster",function(){},i)}catch(e){}t&&(a=function(e,t,i){if(!e.includes("mapster")||!e.includes("noPreventDefault"))return!1;this.addEventListener(t,i,{passive:!0})},e.event.special.touchstart={setup:function(e,t,i){return a.call(this,t,"touchstart",i)}},e.event.special.touchend={setup:function(e,t,i){return a.call(this,t,"touchend",i)}})}}(jQuery),!function(c){"use strict";c.fn.addBack=c.fn.addBack||c.fn.andSelf,c.fn.extend({actual:function(e,t){var i,a,n,o,s,r;if(this[e])return i=c.extend({absolute:!1,clone:!1,includeMargin:!1,display:"block"},t),a=this.eq(0),t=!0===i.clone?(r=function(){a=a.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},function(){a.remove()}):(n=[],o="",r=function(){s=a.parents().addBack().filter(":hidden"),o+="visibility: hidden !important; display: "+i.display+" !important; ",!0===i.absolute&&(o+="position: absolute !important; "),s.each(function(){var e=c(this),t=e.attr("style");n.push(t),e.attr("style",t?t+";"+o:o)})},function(){s.each(function(e){var t=c(this),e=n[e];void 0===e?t.removeAttr("style"):t.attr("style",e)})}),r(),r=/(outer)/.test(e)?a[e](i.includeMargin):a[e](),t(),r;throw'$.actual => The jQuery method "'+e+'" you called does not exist'}})}(jQuery),!function($){"use strict";var mapster_version="1.8.0",m=($.fn.mapster=function(e){var t=$.mapster.impl;return $.mapster.utils.isFunction(t[e])?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.mapster"):t.bind.apply(this,arguments)},$.mapster={version:mapster_version,render_defaults:{isSelectable:!0,isDeselectable:!0,fade:!1,fadeDuration:150,fill:!0,fillColor:"000000",fillColorMask:"FFFFFF",fillOpacity:.7,highlight:!0,stroke:!1,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,includeKeys:"",altImage:null,altImageId:null,altImages:{},altImageOpacity:null},defaults:{clickNavigate:!1,navigateMode:"location",wrapClass:null,wrapCss:null,onGetList:null,sortList:!1,mapKey:"",mapValue:"",singleSelect:!1,listKey:"value",listSelectedAttribute:"selected",listSelectedClass:null,onClick:null,onMouseover:null,onMouseout:null,mouseoutDelay:0,onStateChange:null,boundList:null,onConfigured:null,configTimeout:3e4,noHrefIsMask:!0,scaleMap:!0,enableAutoResizeSupport:!1,autoResize:!1,autoResizeDelay:0,autoResizeDuration:0,onAutoResize:null,areas:[]},shared_defaults:{render_highlight:{fade:!0},render_select:{fade:!1},staticState:null,selected:null},area_defaults:{includeKeys:"",isMask:!1},canvas_style:{position:"absolute",left:0,top:0,padding:0,border:0},hasCanvas:null,map_cache:[],hooks:{},addHook:function(e,t){this.hooks[e]=(this.hooks[e]||[]).push(t)},callHooks:function(e,i){$.each(this.hooks[e]||[],function(e,t){t.apply(i)})},utils:{when:{all:function(e){return Promise.all(e)},defer:function(){return new function(){this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this)),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}},defer:function(){return this.when.defer()},subclass:function(i,a){function e(){var e=this,t=Array.prototype.slice.call(arguments,0);e.base=i.prototype,e.base.init=function(){i.prototype.constructor.apply(e,t)},a.apply(e,t)}return(e.prototype=new i).constructor=e},asArray:function(e){return e.constructor===Array?e:this.split(e)},split:function(e,t){for(var i,a=e.split(","),n=0;n<a.length;n++)""===(i=a[n]?a[n].trim():"")?a.splice(n,1):a[n]=t?t(i):i;return a},updateProps:function(e,t){var a=e||{},t=$.isEmptyObject(a)?t:e,n=[];return $.each(t,function(e){n.push(e)}),$.each(Array.prototype.slice.call(arguments,1),function(e,i){$.each(i||{},function(e){var t;(!n||0<=$.inArray(e,n))&&(t=i[e],$.isPlainObject(t)?a[e]=$.extend(a[e]||{},t):t&&t.constructor===Array?a[e]=t.slice(0):void 0!==t&&(a[e]=i[e]))})}),a},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},indexOf:function(e,t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},indexOfProp:function(e,i,a){var n=e.constructor===Array?-1:null;return $.each(e,function(e,t){if(t&&(i?t[i]:t)===a)return n=e,!1}),n},boolOrDefault:function(e,t){return this.isBool(e)?e:t||!1},isBool:function(e){return"boolean"==typeof e},isUndef:function(e){return void 0===e},isFunction:function(e){return"function"==typeof e},isNumeric:function(e){return!isNaN(parseFloat(e))},ifFunction:function(e,t,i){this.isFunction(e)&&e.call(t,i)},size:function(e,t){var i=$.mapster.utils;return{width:t?e.width||e.naturalWidth:i.imgWidth(e,!0),height:t?e.height||e.naturalHeight:i.imgHeight(e,!0),complete:function(){return!!this.height&&!!this.width}}},setOpacity:function(e,i){$.mapster.hasCanvas()?e.style.opacity=i:$(e).each(function(e,t){void 0!==t.opacity?t.opacity=i:$(t).css("opacity",i)})},fader:function(){function c(e,t,i,a){var n,o,s=a/15,r=$.mapster.utils;if("number"==typeof e){if(!(o=l[e]))return}else(n=r.indexOfProp(l,null,e))&&delete l[n],l[++u]=o=e,e=u;t=(i=i||1)-.01<t+i/s?i:t+i/s,r.setOpacity(o,t),t<i&&setTimeout(function(){c(e,t,i,a)},15)}var l={},u=0;return c}(),getShape:function(e){return(e.shape||"rect").toLowerCase()},hasAttribute:function(e,t){e=$(e).attr(t);return void 0!==e&&!1!==e}},getBoundList:function(i,e){var a,n,o,s;return i.boundList?(o=$(),s=$.mapster.utils.split(e),i.boundList.each(function(e,t){for(a=0;a<s.length;a++)n=s[a],$(t).is("["+i.listKey+'="'+n+'"]')&&(o=o.add(t))}),o):null},getMapDataIndex:function(e){var t,i;switch(e.tagName&&e.tagName.toLowerCase()){case"area":i=$(e).parent().attr("name"),t=$("img[usemap='#"+i+"']")[0];break;case"img":t=e}return t?this.utils.indexOfProp(this.map_cache,"image",t):-1},getMapData:function(e){e=this.getMapDataIndex(e.length?e[0]:e);if(0<=e)return this.map_cache[e]},queueCommand:function(e,t,i,a){return!!e&&!(e.complete&&!e.currentAction||(e.commands.push({that:t,command:i,args:a}),0))},unload:function(){return this.impl.unload(),this.utils=null,this.impl=null,$.fn.mapster=null,$.mapster=null,$("*").off(".mapster")}},$.mapster),u=m.utils,ap=Array.prototype;$.each(["width","height"],function(e,i){var a=i.substr(0,1).toUpperCase()+i.substr(1);u["img"+a]=function(e,t){return(t?$(e)[i]():0)||e[i]||e["natural"+a]||e["client"+a]||e["offset"+a]}}),m.Method=function(e,t,i,a){var n=this;n.name=a.name,n.output=e,n.input=e,n.first=a.first||!1,n.args=a.args?ap.slice.call(a.args,0):[],n.key=a.key,n.func_map=t,n.func_area=i,n.name=a.name,n.allowAsync=a.allowAsync||!1},m.Method.prototype={constructor:m.Method,go:function(){for(var e,t,i,a=this.input,n=[],o=this,s=a.length,r=0;r<s;r++)if(e=$.mapster.getMapData(a[r]))if(!o.allowAsync&&m.queueCommand(e,o.input,o.name,o.args))this.first&&(i="");else if((t=e.getData("AREA"===a[r].nodeName?a[r]:this.key))?$.inArray(t,n)<0&&n.push(t):i=this.func_map.apply(e,o.args),this.first||void 0!==i)break;return $(n).each(function(e,t){i=o.func_area.apply(t,o.args)}),void 0!==i?i:this.output}},$.mapster.impl=function(){var me={},addMap=function(e){return m.map_cache.push(e)-1},removeMap=function(e){m.map_cache.splice(e.index,1);for(var t=m.map_cache.length-1;t>=e.index;t--)m.map_cache[t].index--};function hasVml(){var e=$("<div />").appendTo("body"),t=(e.html('<v:shape id="vml_flag1" adj="1" />'),e[0].firstChild),t=(t.style.behavior="url(#default#VML)",!t||"object"==typeof t.adj);return e.remove(),t}function namespaces(){return"object"==typeof document.namespaces?document.namespaces:null}function hasCanvas(){var e=namespaces();return!(e&&e.g_vml_||!$("<canvas />")[0].getContext)}function merge_areas(i,e){var a,n=i.options.areas;e&&$.each(e,function(e,t){t&&t.key&&(0<=(a=u.indexOfProp(n,"key",t.key))?$.extend(n[a],t):n.push(t),a=i.getDataForKey(t.key))&&$.extend(a.options,t)})}function merge_options(e,t){var i=u.updateProps({},t);delete i.areas,u.updateProps(e.options,i),merge_areas(e,t.areas),u.updateProps(e.area_options,e.options)}return me.get=function(e){var t=m.getMapData(this);if(t&&t.complete)return new m.Method(this,function(){return this.getSelected()},function(){return this.isSelected()},{name:"get",args:arguments,key:e,first:!0,allowAsync:!0,defaultReturn:""}).go();throw"Can't access data until binding complete."},me.data=function(e){return new m.Method(this,null,function(){return this},{name:"data",args:arguments,key:e}).go()},me.highlight=function(t){return new m.Method(this,function(){var e;if(!1!==t)return 0<=(e=this.highlightId)?this.data[e].key:null;this.ensureNoHighlight()},function(){this.highlight()},{name:"highlight",args:arguments,key:t,first:!0}).go()},me.keys=function(e,a){var n=[],i=m.getMapData(this);if(i&&i.complete)return i&&i.complete?("string"==typeof e?a?o(i.getDataForKey(e)):n=[i.getKeysForGroup(e)]:(a=e,this.each(function(e,t){"AREA"===t.nodeName&&o(i.getDataForArea(t))})),n.join(",")):"";throw"Can't access data until binding complete.";function o(e){var t,i=[];a?(t=e.areas(),$.each(t,function(e,t){i=i.concat(t.keys)})):i.push(e.key),$.each(i,function(e,t){$.inArray(t,n)<0&&n.push(t)})}},me.select=function(){me.set.call(this,!0)},me.deselect=function(){me.set.call(this,!1)},me.set=function(a,n,e){var o,s,r,c,l=e;function h(e){e&&$.inArray(e,c)<0&&(c.push(e),r+=(""===r?"":",")+e.key)}function p(e){$.each(c,function(e,t){var i=t;if(i)switch(a){case!0:i.select(l);break;case!1:i.deselect(!0);break;default:i.toggle(l)}}),a||e.removeSelectionFinish()}return this.filter("img,area").each(function(e,t){var i;(s=m.getMapData(t))!==o&&(o&&p(o),c=[],r=""),s&&(i="","IMG"===t.nodeName.toUpperCase()?m.queueCommand(s,$(t),"set",[a,n,l])||(n instanceof Array?n.length&&(i=n.join(",")):i=n,i&&$.each(u.split(i),function(e,t){h(s.getDataForKey(t.toString())),o=s})):(l=n,m.queueCommand(s,$(t),"set",[a,l])||(h(s.getDataForArea(t)),o=s)))}),s&&p(s),this},me.unbind=function(e){return new m.Method(this,function(){this.clearEvents(),this.clearMapData(e),removeMap(this)},null,{name:"unbind",args:arguments}).go()},me.rebind=function(t){return new m.Method(this,function(){var e=this;e.complete=!1,e.configureOptions(t),e.bindImages().then(function(){e.buildDataset(!0),e.complete=!0,e.onConfigured()})},null,{name:"rebind",args:arguments}).go()},me.get_options=function(e,t){var i=u.isBool(e)?e:t;return new m.Method(this,function(){var e=$.extend({},this.options);return i&&(e.render_select=u.updateProps({},m.render_defaults,e,e.render_select),e.render_highlight=u.updateProps({},m.render_defaults,e,e.render_highlight)),e},function(){return i?this.effectiveOptions():this.options},{name:"get_options",args:arguments,first:!0,allowAsync:!0,key:e}).go()},me.set_options=function(e){return new m.Method(this,function(){merge_options(this,e)},null,{name:"set_options",args:arguments}).go()},me.unload=function(){for(var e=m.map_cache.length-1;0<=e;e--)m.map_cache[e]&&me.unbind.call($(m.map_cache[e].image));me.graphics=null},me.snapshot=function(){return new m.Method(this,function(){$.each(this.data,function(e,t){t.selected=!1}),this.base_canvas=this.graphics.createVisibleCanvas(this),$(this.image).before(this.base_canvas)},null,{name:"snapshot"}).go()},me.state=function(){var i,a=null;return $(this).each(function(e,t){if("IMG"===t.nodeName)return(i=m.getMapData(t))&&(a=i.state()),!1}),a},me.bind=function(o){return this.each(function(e,t){var i,a=$(t),n=m.getMapData(t);if(n){if(me.unbind.apply(a),!n.complete)return!0;n=null}if(i=(t=this.getAttribute("usemap"))&&$('map[name="'+t.substr(1)+'"]'),!(a.is("img")&&t&&0<i.length))return!0;a.css("border",0),n||((n=new m.MapData(this,o)).index=addMap(n),n.map=i,n.bindImages().then(function(){n.initialize()}))})},me.init=function(e){var i,t;m.hasCanvas=function(){return u.isBool(m.hasCanvas.value)||(m.hasCanvas.value=u.isBool(e)?e:hasCanvas()),m.hasCanvas.value},m.hasVml=function(){var e;return u.isBool(m.hasVml.value)||((e=namespaces())&&!e.v&&(e.add("v","urn:schemas-microsoft-com:vml"),i=document.createStyleSheet(),t=["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"],$.each(t,function(e,t){i.addRule("v\\:"+t,"behavior: url(#default#VML); antialias:true")})),m.hasVml.value=hasVml()),m.hasVml.value},$.extend(m.defaults,m.render_defaults,m.shared_defaults),$.extend(m.area_defaults,m.render_defaults,m.shared_defaults)},me.test=function(obj){return eval(obj)},me}(),$.mapster.impl.init()}(jQuery),!function(h){"use strict";var a,n,o,r=h.mapster,c=r.utils;function l(e,t,i){var a=e,n=a.map_data,o=i.isMask;h.each(t.areas(),function(e,t){i.isMask=o||t.nohref&&n.options.noHrefIsMask,a.addShape(t,i)}),i.isMask=o}function i(e){return Math.max(0,Math.min(parseInt(e,16),255))}function u(e,t){return"rgba("+i(e.substr(0,2))+","+i(e.substr(2,2))+","+i(e.substr(4,2))+","+t+")"}function s(){}r.Graphics=function(e){var t=this;t.active=!1,t.canvas=null,t.width=0,t.height=0,t.shapes=[],t.masks=[],t.map_data=e},a=r.Graphics.prototype={constructor:r.Graphics,begin:function(e,t){var i=h(e);this.elementName=t,this.canvas=e,this.width=i.width(),this.height=i.height(),this.shapes=[],this.masks=[],this.active=!0},addShape:function(e,t){(t.isMask?this.masks:this.shapes).push({mapArea:e,options:t})},createVisibleCanvas:function(e){return h(this.createCanvasFor(e)).addClass("mapster_el").css(r.canvas_style)[0]},addShapeGroup:function(e,i,t){var a,n=this,o=this.map_data,s=e.effectiveRenderOptions(i);t&&h.extend(s,t),t="select"===i?(a="static_"+e.areaId.toString(),o.base_canvas):o.overlay_canvas,n.begin(t,a),s.includeKeys&&(a=c.split(s.includeKeys),h.each(a,function(e,t){t=o.getDataForKey(t.toString());l(n,t,t.effectiveRenderOptions(i))})),l(n,e,s),n.render(),s.fade&&c.fader(r.hasCanvas()?t:h(t).find("._fill").not(".mapster_mask"),0,r.hasCanvas()?1:s.fillOpacity,s.fadeDuration)}},n={renderShape:function(e,t,i){var a,n=t.coords(null,i);switch(t.shape){case"rect":case"rectangle":e.rect(n[0],n[1],n[2]-n[0],n[3]-n[1]);break;case"poly":case"polygon":for(e.moveTo(n[0],n[1]),a=2;a<t.length;a+=2)e.lineTo(n[a],n[a+1]);e.lineTo(n[0],n[1]);break;case"circ":case"circle":e.arc(n[0],n[1],n[2],0,2*Math.PI,!1)}},addAltImage:function(e,t,i,a){e.beginPath(),this.renderShape(e,i),e.closePath(),e.clip(),e.globalAlpha=a.altImageOpacity||a.fillOpacity,e.drawImage(t,0,0,i.owner.scaleInfo.width,i.owner.scaleInfo.height)},render:function(){var e,i,a=this,n=a.map_data,t=a.masks.length,o=a.createCanvasFor(n),s=o.getContext("2d"),r=a.canvas.getContext("2d");return t&&(e=a.createCanvasFor(n),(i=e.getContext("2d")).clearRect(0,0,e.width,e.height),h.each(a.masks,function(e,t){i.save(),i.beginPath(),a.renderShape(i,t.mapArea),i.closePath(),i.clip(),i.lineWidth=0,i.fillStyle="#000",i.fill(),i.restore()})),h.each(a.shapes,function(e,t){s.save(),t.options.fill&&(t.options.altImageId?a.addAltImage(s,n.images[t.options.altImageId],t.mapArea,t.options):(s.beginPath(),a.renderShape(s,t.mapArea),s.closePath(),s.fillStyle=u(t.options.fillColor,t.options.fillOpacity),s.fill())),s.restore()}),h.each(a.shapes.concat(a.masks),function(e,t){var i=1===t.options.strokeWidth?.5:0;t.options.stroke&&(s.save(),s.strokeStyle=u(t.options.strokeColor,t.options.strokeOpacity),s.lineWidth=t.options.strokeWidth,s.beginPath(),a.renderShape(s,t.mapArea,i),s.closePath(),s.stroke(),s.restore())}),t?(i.globalCompositeOperation="source-out",i.drawImage(o,0,0),r.drawImage(e,0,0)):r.drawImage(o,0,0),a.active=!1,a.canvas},createCanvasFor:function(e){return h('<canvas width="'+e.scaleInfo.width+'" height="'+e.scaleInfo.height+'"></canvas>')[0]},clearHighlight:function(){var e=this.map_data.overlay_canvas;e.getContext("2d").clearRect(0,0,e.width,e.height)},refreshSelections:function(){var e=this.map_data,t=e.base_canvas;e.base_canvas=this.createVisibleCanvas(e),h(e.base_canvas).hide(),h(t).before(e.base_canvas),e.redrawSelections(),h(e.base_canvas).show(),h(t).remove()}},o={renderShape:function(e,t,i){var a,n=this,o=e.coords(),s=n.elementName?'name="'+n.elementName+'" ':"",r=i?'class="'+i+'" ':"",c='<v:fill color="#'+t.fillColor+'" class="_fill" opacity="'+(t.fill?t.fillOpacity:0)+'" /><v:stroke class="_fill" opacity="'+t.strokeOpacity+'"/>',l=t.stroke?" strokeweight="+t.strokeWidth+' stroked="t" strokecolor="#'+t.strokeColor+'"':' stroked="f"',u=t.fill?' filled="t"':' filled="f"';switch(e.shape){case"rect":case"rectangle":a="<v:rect "+r+s+u+l+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+o[0]+"px;top:"+o[1]+"px;width:"+(o[2]-o[0])+"px;height:"+(o[3]-o[1])+'px;">'+c+"</v:rect>";break;case"poly":case"polygon":a="<v:shape "+r+s+u+l+' coordorigin="0,0" coordsize="'+n.width+","+n.height+'" path="m '+o[0]+","+o[1]+" l "+o.slice(2).join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+n.width+"px;height:"+n.height+'px;">'+c+"</v:shape>";break;case"circ":case"circle":a="<v:oval "+r+s+u+l+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(o[0]-o[2])+"px;top:"+(o[1]-o[2])+"px;width:"+2*o[2]+"px;height:"+2*o[2]+'px;">'+c+"</v:oval>"}return i=h(a),h(n.canvas).append(i),i},render:function(){var i,a=this;return h.each(this.shapes,function(e,t){a.renderShape(t.mapArea,t.options)}),this.masks.length&&h.each(this.masks,function(e,t){i=c.updateProps({},t.options,{fillOpacity:1,fillColor:t.options.fillColorMask}),a.renderShape(t.mapArea,i,"mapster_mask")}),this.active=!1,this.canvas},createCanvasFor:function(e){var t=e.scaleInfo.width,e=e.scaleInfo.height;return h('<var width="'+t+'" height="'+e+'" style="zoom:1;overflow:hidden;display:block;width:'+t+"px;height:"+e+'px;"></var>')[0]},clearHighlight:function(){h(this.map_data.overlay_canvas).children().remove()},removeSelections:function(e){(0<=e?h(this.map_data.base_canvas).find('[name="static_'+e.toString()+'"]'):h(this.map_data.base_canvas).children()).remove()}},h.each(["renderShape","addAltImage","render","createCanvasFor","clearHighlight","removeSelections","refreshSelections"],function(e,t){var i;a[t]=(i=t,function(){return a[i]=(r.hasCanvas()?n:o)[i]||s,a[i].apply(this,arguments)})})}(jQuery),!function(o){"use strict";var e=o.mapster,n=e.utils,t=[];e.MapImages=function(e){this.owner=e,this.clear()},e.MapImages.prototype={constructor:e.MapImages,slice:function(){return t.slice.apply(this,arguments)},splice:function(){return t.slice.apply(this.status,arguments),t.slice.apply(this,arguments)},complete:function(){return o.inArray(!1,this.status)<0},_add:function(e){e=t.push.call(this,e)-1;return this.status[e]=!1,e},indexOf:function(e){return n.indexOf(this,e)},clear:function(){var i=this;i.ids&&0<i.ids.length&&o.each(i.ids,function(e,t){delete i[t]}),i.ids=[],i.length=0,i.status=[],i.splice(0)},add:function(e,t){var i,a,n=this;if(e){if("string"==typeof e){if("object"==typeof(e=n[a=e]))return n.indexOf(e);e=o("<img />").addClass("mapster_el").hide(),i=n._add(e[0]),e.on("load.mapster",function(e){n.imageLoaded.call(n,e)}).on("error.mapster",function(e){n.imageLoadError.call(n,e)}),e.attr("src",a)}else i=n._add(o(e)[0]);if(t){if(this[t])throw t+" is already used or is not available as an altImage alias.";n.ids.push(t),n[t]=n[i]}return i}},bind:function(){var t=this,i=t.owner.options.configTimeout/50,a=function(){for(var e=t.length;0<e--&&t.isLoaded(e););t.complete()?t.resolve():0<i--?t.imgTimeout=window.setTimeout(function(){a.call(t,!0)},50):t.imageLoadError.call(t)},e=t.deferred=n.defer();return a(),e},resolve:function(){var e=this.deferred;e&&(this.deferred=null,e.resolve())},imageLoaded:function(e){e=this.indexOf(e.target);0<=e&&(this.status[e]=!0,o.inArray(!1,this.status)<0)&&this.resolve()},imageLoadError:function(e){throw clearTimeout(this.imgTimeout),this.triesLeft=0,e?"The image "+e.target.src+" failed to load.":"The images never seemed to finish loading. You may just need to increase the configTimeout if images could take a long time to load."},isLoaded:function(e){var t,i=this.status;return!!i[e]||(void 0!==(t=this[e]).complete?i[e]=t.complete:i[e]=!!n.imgWidth(t),i[e])}}}(jQuery),!function(y){"use strict";var w=y.mapster,d=w.utils;function n(e,t,i,a){return a=a||d.when.defer(),e.activeAreaEvent&&(window.clearTimeout(e.activeAreaEvent),e.activeAreaEvent=0),t<0?a.resolve({completeAction:!1}):i.owner.currentAction||t?e.activeAreaEvent=window.setTimeout(function(){n(e,0,i,a)},t||100):(t=i.areaId,e.currentAreaId!==t&&0<=e.highlightId&&a.resolve({completeAction:!0})),a}function b(e){return!!e&&"#"!==e}function f(e){w.hasCanvas()||this.blur(),e.preventDefault()}w.MapData=function(e,t){var i=this;i.image=e,i.images=new w.MapImages(i),i.graphics=new w.Graphics(i),i.imgCssText=e.style.cssText||null,y.extend(i,{complete:!1,map:null,base_canvas:null,overlay_canvas:null,commands:[],data:[],mapAreas:[],_xref:{},highlightId:-1,currentAreaId:-1,_tooltip_events:[],scaleInfo:null,index:-1,activeAreaEvent:null,autoResizeTimer:null}),i.configureOptions(t),i.mouseover=function(e){!function(e,t){var i=e.getAllDataForArea(this),a=i.length?i[0]:null;!a||a.isNotRendered()||a.owner.currentAction||e.currentAreaId!==a.areaId&&(e.highlightId!==a.areaId&&(e.clearEffects(),a.highlight(),e.options.showToolTip)&&y.each(i,function(e,t){t.effectiveOptions().toolTip&&t.showToolTip()}),e.currentAreaId=a.areaId,d.isFunction(e.options.onMouseover))&&e.options.onMouseover.call(this,{e:t,options:a.effectiveOptions(),key:a.key,selected:a.isSelected()})}.call(this,i,e)},i.mouseout=function(e){!function(t,e){var i=t.getDataForArea(this),a=t.options;t.currentAreaId<0||!i||t.getDataForArea(e.relatedTarget)!==i&&(t.currentAreaId=-1,i.area=null,n(t,a.mouseoutDelay,i).then(function(e){e.completeAction&&t.clearEffects()}),d.isFunction(a.onMouseout))&&a.onMouseout.call(this,{e:e,options:a,key:i.key,selected:i.isSelected()})}.call(this,i,e)},i.click=function(e){!function(i,a){var n,o,s,r,e,c=this,t=i.getDataForArea(this),l=i.options;function u(e,t,i){"open"===e?window.open(t,i||"_self"):window.location.href=t}function h(e,t,i){var a;return"open"===t?{href:(a=b(t=y(e.area).attr("href")))?t:e.href,target:a?y(e.area).attr("target"):e.hrefTarget}:{href:i}}function p(e){var t;if(s=e.isSelectable()&&(e.isDeselectable()||!e.isSelected()),o=s?!e.isSelected():e.isSelected(),n=w.getBoundList(l,e.key),d.isFunction(l.onClick)&&(r=l.onClick.call(c,{e:a,listTarget:n,key:e.key,selected:o}),d.isBool(r))){if(!r)return;if(b((t=h(e,l.navigateMode,y(e.area).attr("href"))).href))return void u(l.navigateMode,t.href,t.target)}s&&e.toggle()}f.call(this,a),e=h(t,l.navigateMode,t.href),l.clickNavigate&&b(e.href)?u(l.navigateMode,e.href,e.target):t&&!t.owner.currentAction&&(l=i.options,p(t),(e=t.effectiveOptions()).includeKeys)&&(t=d.split(e.includeKeys),y.each(t,function(e,t){t=i.getDataForKey(t.toString());t.options.isMask||p(t)}))}.call(this,i,e)},i.clearEffects=function(e){!function(e){var t=e.options;e.ensureNoHighlight(),t.toolTipClose&&0<=y.inArray("area-mouseout",t.toolTipClose)&&e.activeToolTip&&e.clearToolTip()}.call(this,i,e)},i.mousedown=function(e){f.call(this,e)}},w.MapData.prototype={constructor:w.MapData,configureOptions:function(e){this.options=d.updateProps({},w.defaults,e)},bindImages:function(){var e,i,t=this,a=t.images;return 2<a.length?a.splice(2):0===a.length&&(a.add(t.image),a.add(t.image.src)),e=(a=t).options,i=a.images,w.hasCanvas()&&(y.each(e.altImages||{},function(e,t){i.add(t,e)}),y.each([e].concat(e.areas),function(e,t){y.each([t,t.render_highlight,t.render_select],function(e,t){t&&t.altImage&&(t.altImageId=i.add(t.altImage))})})),a.area_options=d.updateProps({},w.area_defaults,e),t.images.bind()},isActive:function(){return!this.complete||this.currentAction},state:function(){return{complete:this.complete,resizing:"resizing"===this.currentAction,zoomed:this.zoomed,zoomedArea:this.zoomedArea,scaleInfo:this.scaleInfo}},wrapId:function(){return"mapster_wrap_"+this.index},instanceEventNamespace:function(){return".mapster."+this.wrapId()},_idFromKey:function(e){return"string"==typeof e&&Object.prototype.hasOwnProperty.call(this._xref,e)?this._xref[e]:-1},getSelected:function(){var i="";return y.each(this.data,function(e,t){t.isSelected()&&(i+=(i?",":"")+this.key)}),i},getAllDataForArea:function(e,t){var i,a,n,o=y(e).filter("area").attr(this.options.mapKey);if(o)for(n=[],o=d.split(o),i=0;i<(t||o.length);i++)(a=this.data[this._idFromKey(o[i])])&&(a.area=e.length?e[0]:e,n.push(a));return n},getDataForArea:function(e){e=this.getAllDataForArea(e,1);return e&&e[0]||null},getDataForKey:function(e){return this.data[this._idFromKey(e)]},getKeysForGroup:function(e){e=this.getDataForKey(e);return e?e.isPrimary?e.key:this.getPrimaryKeysForMapAreas(e.areas()).join(","):""},getPrimaryKeysForMapAreas:function(e){var i=[];return y.each(e,function(e,t){y.inArray(t.keys[0],i)<0&&i.push(t.keys[0])}),i},getData:function(e){return"string"==typeof e?this.getDataForKey(e):e&&e.mapster||d.isElement(e)?this.getDataForArea(e):null},ensureNoHighlight:function(){0<=this.highlightId&&(this.graphics.clearHighlight(),this.data[this.highlightId].changeState("highlight",!1),this.setHighlightId(-1))},setHighlightId:function(e){this.highlightId=e},clearSelections:function(){y.each(this.data,function(e,t){t.selected&&t.deselect(!0)}),this.removeSelectionFinish()},setAreaOptions:function(e){for(var t,i,a=(e=e||[]).length-1;0<=a;a--)(t=e[a])&&(i=this.getDataForKey(t.key))&&(d.updateProps(i.options,t),d.isBool(t.selected))&&(i.selected=t.selected)},drawSelections:function(e){for(var t=d.asArray(e),i=t.length-1;0<=i;i--)this.data[t[i]].drawSelection()},redrawSelections:function(){y.each(this.data,function(e,t){t.isSelectedOrStatic()&&t.drawSelection()})},setBoundListProperties:function(i,e,a){e.each(function(e,t){i.listSelectedClass&&(a?y(t).addClass(i.listSelectedClass):y(t).removeClass(i.listSelectedClass)),i.listSelectedAttribute&&y(t).prop(i.listSelectedAttribute,a)})},clearBoundListProperties:function(e){e.boundList&&this.setBoundListProperties(e,e.boundList,!1)},refreshBoundList:function(e){this.clearBoundListProperties(e),this.setBoundListProperties(e,w.getBoundList(e,this.getSelected()),!0)},setBoundList:function(e){var i,t=this.data.slice(0);e.sortList&&(i="desc"===e.sortList?function(e,t){return e===t?0:t<e?-1:1}:function(e,t){return e===t?0:e<t?-1:1},t.sort(function(e,t){return e=e.value,t=t.value,i(e,t)})),this.options.boundList=e.onGetList.call(this.image,t)},initialize:function(){var e,t,i,a,n,o,s,r,c=this,l=c.options;if(!c.complete){for((r=(s=y(c.image)).parent().attr("id"))&&12<=r.length&&"mapster_wrap"===r.substring(0,12)?(i=s.parent()).attr("id",c.wrapId()):(i=y('<div id="'+c.wrapId()+'"></div>'),l.wrapClass&&(!0===l.wrapClass?i.addClass(s[0].className):i.addClass(l.wrapClass))),c.wrapper=i,c.scaleInfo=r=d.scaleMap(c.images[0],c.images[1],l.scaleMap),c.base_canvas=e=c.graphics.createVisibleCanvas(c),c.overlay_canvas=t=c.graphics.createVisibleCanvas(c),a=y(c.images[1]).addClass("mapster_el "+c.images[0].className).attr({id:null,usemap:null}),(o=d.size(c.images[0])).complete&&a.css({width:o.width,height:o.height}),c.buildDataset(),a=y.extend({display:"block",position:"relative",padding:0},!0===l.enableAutoResizeSupport?{}:{width:r.width,height:r.height}),l.wrapCss&&y.extend(a,l.wrapCss),s.parent()[0]!==c.wrapper[0]&&s.before(c.wrapper),i.css(a),y(c.images.slice(2)).hide(),n=1;n<c.images.length;n++)i.append(c.images[n]);i.append(e).append(t).append(s.css(w.canvas_style)),d.setOpacity(c.images[0],0),y(c.images[1]).show(),d.setOpacity(c.images[1],1),c.complete=!0,c.processCommandQueue(),!0===l.enableAutoResizeSupport&&c.configureAutoResize(),c.onConfigured()}},onConfigured:function(){var e=y(this.image),t=this.options;d.isFunction(t.onConfigured)&&t.onConfigured.call(e,!0)},buildDataset:function(e){var t,i,a,n,o,s,r,c,l,u,h,p,d,f,m=this,g=m.options;function v(e,t){t=new w.AreaData(m,e,t);return t.areaId=m._xref[e]=m.data.push(t)-1,t.areaId}for(m._xref={},m.data=[],e||(m.mapAreas=[]),(f=!g.mapKey)&&(g.mapKey="data-mapster-key"),t=w.hasVml()?"area":f?"area[coords]":"area["+g.mapKey+"]",i=y(m.map).find(t).off(".mapster"),u=0;u<i.length;u++)if(n=0,d=i[u],o=y(d),d.coords){for(f?(s=String(u),o.attr("data-mapster-key",s)):s=d.getAttribute(g.mapKey),e?((r=m.mapAreas[o.data("mapster")-1]).configure(s),r.areaDataXref=[]):(r=new w.MapArea(m,d,s),m.mapAreas.push(r)),a=(l=r.keys).length-1;0<=a;a--)c=l[a],g.mapValue&&(h=o.attr(g.mapValue)),f?(n=v(m.data.length,h),(p=m.data[n]).key=c=n.toString()):0<=(n=m._xref[c])?(p=m.data[n],h&&!m.data[n].value&&(p.value=h)):(n=v(c,h),(p=m.data[n]).isPrimary=0===a),r.areaDataXref.push(n),p.areasXref.push(u);b(d=o.attr("href"))&&!p.href&&(p.href=d,p.hrefTarget=o.attr("target")),r.nohref||o.on("click.mapster",m.click).on("mouseover.mapster touchstart.mapster.noPreventDefault",m.mouseover).on("mouseout.mapster touchend.mapster.noPreventDefault",m.mouseout).on("mousedown.mapster",m.mousedown),o.data("mapster",u+1)}m.setAreaOptions(g.areas),g.onGetList&&m.setBoundList(g),g.boundList&&0<g.boundList.length&&m.refreshBoundList(g),e?(m.graphics.removeSelections(),m.graphics.refreshSelections()):m.redrawSelections()},processCommandQueue:function(){for(var e;!this.currentAction&&this.commands.length;)e=this.commands[0],this.commands.splice(0,1),w.impl[e.command].apply(e.that,e.args)},clearEvents:function(){y(this.map).find("area").off(".mapster"),y(this.images).off(".mapster"),y(window).off(this.instanceEventNamespace()),y(window.document).off(this.instanceEventNamespace())},_clearCanvases:function(e){e||y(this.base_canvas).remove(),y(this.overlay_canvas).remove()},clearMapData:function(e){var t=this;t.ensureNoHighlight(),this._clearCanvases(e),y.each(this.data,function(e,t){t.reset()}),this.data=null,e||(this.image.style.cssText=this.imgCssText,y(this.wrapper).before(this.image).remove()),t.images.clear(),t.autoResizeTimer&&clearTimeout(t.autoResizeTimer),t.autoResizeTimer=null,this.image=null,d.ifFunction(this.clearToolTip,this)},removeSelectionFinish:function(){var e=this.graphics;e.refreshSelections(),e.clearHighlight()}}}(jQuery),!function(o){"use strict";var i=o.mapster,n=i.utils;function s(e){e=o(e);return n.hasAttribute(e,"nohref")||!n.hasAttribute(e,"href")}i.AreaData=function(e,t,i){o.extend(this,{owner:e,key:t||"",isPrimary:!0,areaId:-1,href:"",hrefTarget:null,value:i||"",options:{},selected:null,staticStateOverridden:!1,areasXref:[],area:null,optsCache:null})},i.AreaData.prototype={constuctor:i.AreaData,select:function(e){var t=this,i=t.owner,e=(a=!o.isEmptyObject(e))?o.extend(t.effectiveRenderOptions("select"),e,{altImageId:i.images.add(e.altImage)}):null,a=a&&!(t.optsCache===e),n=t.isSelectedOrStatic();i.options.singleSelect&&(i.clearSelections(),n=t.isSelectedOrStatic()),a&&(t.optsCache=e),e=t.updateSelected(!0),n&&a?(i.graphics.removeSelections(t.areaId),i.graphics.refreshSelections()):n||t.drawSelection(),e&&t.changeState("select",!0)},deselect:function(e){var t=this,i=t.updateSelected(!1);t.optsCache=null,t.owner.graphics.removeSelections(t.areaId),e||t.owner.removeSelectionFinish(),i&&t.changeState("select",!1)},toggle:function(e){return this.isSelected()?this.deselect():this.select(e),this.isSelected()},updateSelected:function(e){var t=this.selected;return this.selected=e,this.staticStateOverridden=!!n.isBool(this.effectiveOptions().staticState),t!==e},areas:function(){for(var e=[],t=0;t<this.areasXref.length;t++)e.push(this.owner.mapAreas[this.areasXref[t]]);return e},coords:function(i){var a=[];return o.each(this.areas(),function(e,t){a=a.concat(t.coords(i))}),a},reset:function(){o.each(this.areas(),function(e,t){t.reset()}),this.areasXref=[],this.options=null},isSelectedOrStatic:function(){var e=this.effectiveOptions();return!n.isBool(e.staticState)||this.staticStateOverridden?this.isSelected():e.staticState},isSelected:function(){return n.isBool(this.selected)?this.selected:!!n.isBool(this.owner.area_options.selected)&&this.owner.area_options.selected},isSelectable:function(){return!n.isBool(this.effectiveOptions().staticState)&&!n.isBool(this.owner.options.staticState)&&n.boolOrDefault(this.effectiveOptions().isSelectable,!0)},isDeselectable:function(){return!n.isBool(this.effectiveOptions().staticState)&&!n.isBool(this.owner.options.staticState)&&n.boolOrDefault(this.effectiveOptions().isDeselectable,!0)},isNotRendered:function(){return s(this.area)||this.effectiveOptions().isMask},effectiveOptions:function(e){e=n.updateProps({},this.owner.area_options,this.options,e||{},{id:this.areaId});return e.selected=this.isSelected(),e},effectiveRenderOptions:function(e,t){var i=this.optsCache;return i&&"highlight"!==e||(t=this.effectiveOptions(t),i=n.updateProps({},t,t["render_"+e]),"highlight"!==e&&(this.optsCache=i)),o.extend({},i)},changeState:function(e,t){n.isFunction(this.owner.options.onStateChange)&&this.owner.options.onStateChange.call(this.owner.image,{key:this.key,state:e,selected:t}),"select"===e&&this.owner.options.boundList&&this.owner.setBoundListProperties(this.owner.options,i.getBoundList(this.owner.options,this.key),t)},highlight:function(e){var t=this.owner;t.ensureNoHighlight(),this.effectiveOptions().highlight&&t.graphics.addShapeGroup(this,"highlight",e),t.setHighlightId(this.areaId),this.changeState("highlight",!0)},drawSelection:function(){this.owner.graphics.addShapeGroup(this,"select")}},i.MapArea=function(e,t,i){var a;e&&((a=this).owner=e,a.area=t,a.areaDataXref=[],a.originalCoords=[],o.each(n.split(t.coords),function(e,t){a.originalCoords.push(parseFloat(t))}),a.length=a.originalCoords.length,a.shape=n.getShape(t),a.nohref=s(t),a.configure(i))},i.MapArea.prototype={constructor:i.MapArea,configure:function(e){this.keys=n.split(e)},reset:function(){this.area=null},coords:function(t){return o.map(this.originalCoords,function(e){return t?e:e+t})}}}(jQuery),!function(I){"use strict";var M=I.mapster.utils;M.areaCorners=function(e,t,i,a,n){var o,s,r,c,l,u,h,p,d,f,m,g,v,y,w,b,k,S,A,T,_=0,C=0,x=[];for(e=e.length?e:[e],o=(i=I(i||document.body)).offset(),w=o.left,b=o.top,t&&(_=(o=I(t).offset()).left,C=o.top),y=0;y<e.length;y++)if("AREA"===(T=e[y]).nodeName){switch(k=M.split(T.coords,parseInt),M.getShape(T)){case"circle":case"circ":for(m=k[0],g=k[1],S=k[2],x=[],y=0;y<360;y+=20)A=y*Math.PI/180,x.push(m+S*Math.cos(A),g+S*Math.sin(A));break;case"rectangle":case"rect":x.push(k[0],k[1],k[2],k[1],k[2],k[3],k[0],k[3]);break;default:x=x.concat(k)}for(y=0;y<x.length;y+=2)x[y]=parseInt(x[y],10)+_,x[y+1]=parseInt(x[y+1],10)+C}else o=(T=I(T)).position(),x.push(o.left,o.top,o.left+T.width(),o.top,o.left+T.width(),o.top+T.height(),o.left,o.top+T.height());for(r=c=h=d=999999,l=u=p=f=-1,y=x.length-2;0<=y;y-=2)m=x[y],g=x[y+1],m<r&&(r=m,f=g),l<m&&(l=m,d=g),g<c&&(c=g,p=m),u<g&&(u=g,h=m);return a&&n&&(s=!1,I.each([[p-a,c-n],[h,c-n],[r-a,f-n],[r-a,d],[l,f-n],[l,d],[p-a,u],[h,u]],function(e,t){if(!s&&t[0]>w&&t[1]>b)return v=t,!(s=!0)}),s||(v=[l,u])),v}}(jQuery),!function(d){"use strict";var f=d.mapster,m=f.utils,e=f.MapArea.prototype;f.utils.getScaleInfo=function(e,t){var i;return t?.98<(i=e.width/t.width||e.height/t.height)&&i<1.02&&(i=1):(i=1,t=e),{scale:1!==i,scalePct:i,realWidth:t.width,realHeight:t.height,width:e.width,height:e.height,ratio:e.width/e.height}},f.utils.scaleMap=function(e,t,i){e=m.size(e),t=m.size(t,!0);if(t.complete())return e.complete()||(e=t),this.getScaleInfo(e,i?t:null);throw"Another script, such as an extension, appears to be interfering with image loading. Please let us know about this."},f.MapData.prototype.resize=function(t,i,a,n){var o,s,r,c,e,l=this;function u(e,t,i){f.hasCanvas()?(e.width=t,e.height=i):(d(e).width(t),d(e).height(i))}function h(){var e;u(l.overlay_canvas,t,i),0<=c&&((e=l.data[c]).tempOptions={fade:!1},l.getDataForKey(e.key).highlight(),e.tempOptions=null),u(l.base_canvas,t,i),l.redrawSelections(),l.currentAction="",m.isFunction(n)&&n(),l.processCommandQueue()}function p(){d(l.image).css(r),l.scaleInfo=m.getScaleInfo({width:t,height:i},{width:l.scaleInfo.realWidth,height:l.scaleInfo.realHeight}),d.each(l.data,function(e,t){d.each(t.areas(),function(e,t){t.resize()})})}n=n||a,l.scaleInfo.width===t&&l.scaleInfo.height===i||(c=l.highlightId,t||(e=i/l.scaleInfo.realHeight,t=Math.round(l.scaleInfo.realWidth*e)),i||(e=t/l.scaleInfo.realWidth,i=Math.round(l.scaleInfo.realHeight*e)),r={width:String(t)+"px",height:String(i)+"px"},f.hasCanvas()||d(l.base_canvas).children().remove(),e=d(l.wrapper).find(".mapster_el"),!0!==l.options.enableAutoResizeSupport&&(e=e.add(l.wrapper)),a?(s=[],l.currentAction="resizing",e.filter(":visible").each(function(e,t){o=m.defer(),s.push(o),d(t).animate(r,{duration:a,complete:o.resolve,easing:"linear"})}),e.filter(":hidden").css(r),o=m.defer(),s.push(o),m.when.all(s).then(h),p(),o.resolve()):(e.css(r),p(),h()))},f.MapData.prototype.autoResize=function(e,t){this.resize(d(this.wrapper).width()||d(this.wrapper).actual("width"),null,e,t)},f.MapData.prototype.configureAutoResize=function(){var e=this,t=e.instanceEventNamespace();function i(){!0===e.options.autoResize&&e.autoResize(e.options.autoResizeDuration,e.options.onAutoResize)}d(e.image).on("load"+t,i),d(window).on("focus"+t,i),d(window).on("resize"+t,function(){e.autoResizeTimer&&clearTimeout(e.autoResizeTimer),e.autoResizeTimer=setTimeout(i,e.options.autoResizeDelay)}),d(window).on("readystatechange"+t,i),d(window.document).on("fullscreenchange"+t,i),i()},f.MapArea=m.subclass(f.MapArea,function(){this.base.init(),this.owner.scaleInfo.scale&&this.resize()}),e.coords=function(e,t){var i,a=[],n=e||this.owner.scaleInfo.scalePct,o=t||0;if(1===n&&0===t)return this.originalCoords;for(i=0;i<this.length;i++)a.push(Math.round(this.originalCoords[i]*n)+o);return a},e.resize=function(){this.area.coords=this.coords().join(",")},e.reset=function(){this.area.coords=this.coords(1).join(",")},f.impl.resize=function(t,i,a,n){return new f.Method(this,function(){var e=!t&&!i;if(!(this.options.enableAutoResizeSupport&&this.options.autoResize&&e))return!e&&void this.resize(t,i,a,n);this.autoResize(a,n)},null,{name:"resize",args:arguments}).go()}}(jQuery),!function(c){"use strict";var e=c.mapster,l=e.utils;function u(e,t,i){var a;return t?(a="string"==typeof t?c(t):c(t).clone()).append(e):a=c(e),a.css(c.extend(i||{},{display:"block",position:"absolute"})).hide(),c("body").append(a),a.attr("data-opacity",a.css("opacity")).css("opacity",0),a.show()}function h(e,t,i,a,n,o){var s=".mapster.tooltip",i=i+s;0<=c.inArray(t,e)&&a.off(i).on(i,function(e){n&&!n.call(this,e)||(a.off(s),o&&o.call(this))})}function p(e,t,i,a,n){var o={};return n=n||{},t?(t=l.areaCorners(t,i,a,e.outerWidth(!0),e.outerHeight(!0)),o.left=t[0],o.top=t[1]):(o.left=n.left,o.top=n.top),o.left+=n.offsetx||0,o.top+=n.offsety||0,o.css=n.css,o.fadeDuration=n.fadeDuration,i=e,t={left:(a=o).left+"px",top:a.top+"px"},n=i.attr("data-opacity")||0,o=i.css("z-index"),0!==parseInt(o,10)&&"auto"!==o||(t["z-index"]=9999),i.css(t).addClass("mapster_tooltip"),a.fadeDuration&&0<a.fadeDuration?l.fader(i[0],0,n,a.fadeDuration):l.setOpacity(i[0],n),e}function d(e){return e?"string"==typeof e||e.jquery||l.isFunction(e)?e:e.content:null}function f(e){return e?"string"==typeof e||e.jquery||l.isFunction(e)?{content:e}:e:{}}c.extend(e.defaults,{toolTipContainer:'<div style="border: 2px solid black; background: #EEEEEE; width:160px; padding:4px; margin: 4px; -moz-box-shadow: 3px 3px 5px #535353; -webkit-box-shadow: 3px 3px 5px #535353; box-shadow: 3px 3px 5px #535353; -moz-border-radius: 6px 6px 6px 6px; -webkit-border-radius: 6px; border-radius: 6px 6px 6px 6px; opacity: 0.9;"></div>',showToolTip:!1,toolTip:null,toolTipFade:!0,toolTipClose:["area-mouseout","image-mouseout","generic-mouseout"],onShowToolTip:null,onHideToolTip:null}),c.extend(e.area_defaults,{toolTip:null,toolTipClose:null}),e.MapData.prototype.clearToolTip=function(){this.activeToolTip&&(this.activeToolTip.stop().remove(),this.activeToolTip=null,this.activeToolTipID=null,l.ifFunction(this.options.onHideToolTip,this))},e.AreaData.prototype.showToolTip=function(e,t){var i,a,n,o=this,s=o.owner,r=o.effectiveOptions();if(t=t?c.extend({},t):{},e=e||r.toolTip,i=t.closeEvents||r.toolTipClose||s.options.toolTipClose||"tooltip-click",n=void 0!==t.template?t.template:s.options.toolTipContainer,t.closeEvents="string"==typeof i?i=l.split(i):i,t.fadeDuration=t.fadeDuration||(s.options.toolTipFade?(l.isNumeric(r.fadeDuration)?r:s.options).fadeDuration:0),a=o.area||c.map(o.areas(),function(e){return e.area}),s.activeToolTipID!==o.areaId){s.clearToolTip();var e=l.isFunction(e)?e({key:this.key,target:a}):e;if(e)return s.activeToolTip=e=u(e,n,t.css),s.activeToolTipID=o.areaId,n=function(){s.clearToolTip()},h(i,"area-click","click",c(s.map),null,n),h(i,"tooltip-click","click",e,null,n),h(i,"image-mouseout","mouseout",c(s.image),function(e){return e.relatedTarget&&"AREA"!==e.relatedTarget.nodeName&&e.relatedTarget!==o.area},n),h(i,"image-click","click",c(s.image),null,n),p(e,a,s.image,t.container,t),l.ifFunction(s.options.onShowToolTip,o.area,{toolTip:e,options:{},areaOptions:r,key:o.key,selected:o.isSelected()}),e}},e.impl.tooltip=function(s,r){return new e.Method(this,function(){var e,t,i,a,n,o=this;s?(n=(e=c(s))&&0<e.length?e[0]:null,o.activeToolTipID!==n&&(o.clearToolTip(),n)&&(a=d(r),a=l.isFunction(a)?a({key:this.key,target:e}):a)&&(t=(r=f(r)).closeEvents||o.options.toolTipClose||"tooltip-click",r.closeEvents="string"==typeof t?t=l.split(t):t,r.fadeDuration=r.fadeDuration||(o.options.toolTipFade?o.options.fadeDuration:0),i=function(){o.clearToolTip()},o.activeToolTip=a=u(a,r.template||o.options.toolTipContainer,r.css),o.activeToolTipID=n,h(t,"tooltip-click","click",a,null,i),h(t,"generic-mouseout","mouseout",e,null,i),h(t,"generic-click","click",e,null,i),o.activeToolTip=p(a,e,o.image,r.container,r))):o.clearToolTip()},function(){c.isPlainObject(s)&&!r&&(r=s),this.showToolTip(d(r),f(r))},{name:"tooltip",args:arguments,key:s}).go()}}(jQuery)});
//# sourceMappingURL=jquery.imagemapster.zepto.min.js.map